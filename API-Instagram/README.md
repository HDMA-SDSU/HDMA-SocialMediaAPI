![logo](http://humandynamics.sdsu.edu/images/HDMA_Logo.png)
##Retrieve Photo Data from Instagram Using Instagram API - NIH Proposal for Food Environment
######*Project conducted by*: San Diego State University
######*Report prepared by*: Yi-ting Chuang (Department of Geography, San Diego State University)
#### Abstract
This technical note introduces how to retrieve food photos at Downtown San Diego from Instagram by using Instagram API. This notes searched photos by setting location ids, based on longitude and latitude, and radius arguments.

#### 1.	What is Instagram?
Instagram is an online mobile photo-sharing, video-sharing and social networking service that enables its users to take pictures and videos, and share them on a variety of social networking platforms, such as Facebook, Twitter, Tumblr and Flickr. A distinctive feature is that it confines photos to a square shape, similar to Kodak Instamatic and Polaroid images, in contrast to the 4:3 aspect ratio typically used by mobile device cameras. Users can also apply digital filters to their images. (http://en.wikipedia.org/wiki/Instagram)

#### 2.	What is Instagram API?
Registered users can search photos and related information according to different arguments by using Instagram API.

#### 3.	Does the API need a key?
Yes, before utilizing Instagram API, developers need to get an access key for calling methods of Instagram API. Go here: http://instagram.com/developer/authentication/.

#### 4.	How to find photos for specific geographic areas? (e.g. Downtown San Diego)
Go to “Location Endpoints” on Instagram website: http://instagram.com/developer/endpoints/locations/.
Note: Istagram API can only respond 20 location ids at a time. For getting more ids at a time, please utilize Facebook’s Graph API to get Facebook’s location ids and convert them into Instagram’s location ids.
- The third method can get a list of Instagram’s location ids by setting:
Lng: A valid longitude, in decimal format, for doing radial geo queries. (e.g. -117.161)
Lat: A valid latitude, in decimal format, for doing radial geo queries. (e.g. 32.726)
Distance: A valid radius used for geo queries, greater than zero and less than 5000m, for use with point-based geo queries. The default value is 1000m. **Note: Istagram API can only respond 20 location ids at a time. For getting more ids at a time, please utilize Facebook’s Graph API to get Facebook’s location ids and convert them into Instagram’s location ids.**

- The second method can search photos based on:
Location_id: Instagram location ids, which can be generated by using the third method. 
Other parameters: http://instagram.com/developer/endpoints/locations/

#### 5.	The following is an example of photos with **“food”** tag at **Downtown San Diego (latitude: 32.715754; longitude: -117.161093)** with **5 kilometers** radius.
Instagram Location IDs:
```
"data":[{"latitude":32.726005369,"id":"76449888","longitude":-117.16114532,"name":"Areta Crowell Center"},
{"latitude":32.725929,"id":"252182784","longitude":-117.160861,"name":"Sharp Rees-Stealy Medical Centers"},
{"latitude":32.726120597,"id":"254994208","longitude":-117.161077997,"name":"Mission Bay Park"},
{"latitude":32.725788399,"id":"14535462","longitude":-117.160915565,"name":"Hawthorn and 4th"},
{"latitude":32.726098621,"id":"451226492","longitude":-117.161246422,"name":"Sharp Rees Steely"},
{"latitude":32.725939694,"id":"394497","longitude":-117.161286506,"name":"Sharp Rees-Stealy Downtown San Diego"},
{"latitude":32.725735958,"id":"389099054","longitude":-117.161148371,"name":"Siti Medical Spa"},
{"latitude":32.72626119,"id":"5824990","longitude":-117.16079247,"name":"Sharp Rees-Steely Urgent Care"},
{"latitude":32.725645,"id":"14251612","longitude":-117.160856,
```
Photo data:
```
"data":[{"attribution":null,"tags":[],"type":"image","location":{"latitude":32.726120597,"name":"Mission Bay Park","longitude":-117.161077997,"id":254994208},
"comments":{"count":7,"data":[{"created_time":"1416796151","text":"\u270c\ufe0f\ud83d\ude4c\ud83d\udcaa\ud83d\udd1d","from":{"username":"nnectoux","profile_picture":"https:\/\/igcdn-photos-b-a.akamaihd.net\/hphotos-ak-xpa1\/t51.2885-19\/10632376_630528803732193_1124873594_a.jpg","id":"34891169","full_name":"Nelson Nectoux"},"id":"860470941825098012"},
{"created_time":"1416805872","text":"\ud83d\udc4f\ud83d\udc4f\ud83d\udc4f","from":{"username":"fsabbatini","profile_picture":"https:\/\/igcdn-photos-e-a.akamaihd.net\/hphotos-ak-xpf1\/t51.2885-19\/10693517_730206550394612_1811208857_a.jpg","id":"22278664","full_name":"Freddy Sabbatini"},"id":"860552490226540560"},
{"created_time":"1416807791","text":"@nnectoux amazinggg!! Foi demais  hoje, energia mega positiva!","from":{"username":"carlamariazinha","profile_picture":"https:\/\/igcdn-photos-c-a.akamaihd.net\/hphotos-ak-xpa1\/t51.2885-19\/10729199_1493937554215498_1974034382_a.jpg","id":"30615503","full_name":"Carla Maria"},"id":"860568590456709165"},
{"created_time":"1416807824","text":"@fsabbatini at\u00e9 muito breve, sofri mas foi demais!!",
```
#### Limitation: 
 A limitation of using Istagram API to search location ids is that it only responds 20 location ids at a time. If you want to get more location ids at once, you can utilize Graph API by Facebook to get a list of facebook_places_ids (500 data) and convert it into Instagram location ids by using “locations/search?facebook_places_id” method. You can get 500 Instagram location ids instead of 20.

####Demo site: http://vision.sdsu.edu/ychuang/Flickr_InstagramAPI/socialMedia_API.html
